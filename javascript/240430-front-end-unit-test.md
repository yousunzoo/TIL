## 단위 테스트

- 단일 함수의 결과값 또는 단일 컴포넌트(클래스)의 상태(UI)나 행위를 검증

공통 컴포넌트는 단위 테스트에 적합하다.

- 다른 컴포넌트와의 상호작용이 없으며
- 컴포넌트 내부 비즈니스 로직을 기능 단위로 나눠 검증하기 좋다.
- 범용적으로 재사용되기 때문에 단위 테스트를 통해 안정성을 높여야 한다.

### Arrange-Act-Assert 테스트 작성 패턴

1. Arrange: 테스트를 위한 환경 만들기 (컴포넌트 렌더링)
2. Act : 테스트할 동작 발생 (클릭, 타이핑, 메서드 호출)
3. Assert : 올바른 동작이 실행되었는지 또는 변경사항 검증하기

단위 테스트 코드를 작성할 때는

- 상세한 테스트 디스크립션을 통해 가독성을 향상시키자
- 내부 DOM 구조나 로직에 영향을 받지 않게 테스팅 라이브러리 API를 통해 적절한 요소를 검증하자
- 컴포넌트의 최종 렌더링 결과물인 DOM 구조가 올바르게 변경되었는지 검증하자

## 테스트 환경과 Matcher

- 테스트 프레임워크 : 테스트 실행 및 검증에 필요한 환경을 제공하는 도구

### vitest

- 별다른 설정 없이 vite 기반에서 테스트 구동
- 추가 설정 없이 ESM, TypeSCript, JSX 사용 가능
- Jest 호환 및 API 및 가이드 제공

### it함수

- 테스트의 실행 단위로서 테스트 디스크립션, 기대 결과에 대한 코드를 작성
- it 함수는 test 함수의 alias로서 동일한 역할 수행
- 기대 결과와 실제 결과가 같다면 테스트는 성공적으로 통과

### 단언

- 테스트가 통과하기 위한 조건을 기술하여 검증을실행한다.

### matcher

- 기대 결과를 검증하기 위해 사용되는 일종의 API 집합

## setup과 teardown

> 💡 모든 테스트는 독립적으로 실행되어야 한다.
> (순서에 상관없이 독립적으로 수행)


- setup : 테스트를 실행하기 전 수행해야 하는 작업
- teardown : 테스트를 실행한 뒤 수행해야 하는 작업

- setup과 teardown을 통해 테스트 실행 전, 후 실행되어야 할 반복 작업을 깔끔하게 관리할 수 있다.
- 테스트 별로 별도의 스코프로 동작하기 때문에 독립적인 테스트를 구성하는데 도움을 받을 수 있다.
- setup, teardown에서 전역 변수를 사용한 조건 처리는 독립성을 보장하지 못하고, 신뢰성이 낮아지므로 주의할 것

## React Testing Library

- UI 컴포넌트를 사용자가 사용하는 방식으로 테스트
    
    ⇒ DOM 노드를 쿼리(조회)하고 사용자와 비슷한 방식으로 이벤트 발생
    

✅ 내부 구현과 종속성이 없으며 캡슐화에 위반되지 않음

✅ DOM, 이벤트 인터페이스 기반으로 검증

✅ 테스트 코드를 직관적으로 작성 가능

### spy

- 함수의 호출 여부, 인자, 반환 값 등 함수 호출에 관련된 다양한 값을 저장
- 콜백 함수나 이벤트 핸들러가 올바르게 호출되었는지를 검증할 수 있음
    - toHaveBeenCalledWith, toHaveBeenCalled matcher
